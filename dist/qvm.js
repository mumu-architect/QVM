!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Qvm=t():e.Qvm=t()}(self,(()=>(()=>{"use strict";var __webpack_modules__={988:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}__webpack_require__.d(__webpack_exports__,{V:()=>compileStringTemplate,u:()=>expr});var keyword={new:!0,class:!0,for:!0,if:!0,else:!0};function expr(str,data){function parseGlobal(e,t){var r=e.split(" ");return e in window||keyword[r[0]]&&!data[e]?e:t}var arr=preseExpr(str),arr2=arr.map((function(e){return"string"==typeof e?"'"+e+"'":e.expr.replace(/.?[\$_a-z][\sa-z0-9_\$]*/gi,(function(e){return/[\$_a-z]/i.test(e[0])?parseGlobal(e,"data."+e):"."==e[0]?e:e[0]+parseGlobal(e.substring(1),"data."+e.substring(1))}))})),str2=arr2.join(""),result=eval(str2);return result}function compileStringTemplate(e,t){for(var r=0,o=[],n=0;-1!=(n=e.indexOf("{{",r));){o.push(e.substring(r,n));for(var i=2,a=void 0,u=n+2;u<e.length;u++)if("{"==e[u]?i++:"}"==e[u]&&i--,0==i){a=u;break}if(i>0)throw new Error("{{}} does not match");var c=expr(e.substring(n+2,a-1),t);"object"==_typeof(c)?o.push(JSON.stringify(c)):o.push(c),r=a+1}return o.push(e.substring(r)),o.join("")}function preseExpr(e){for(var t=[];;){var r=e.search(/'|"/);if(-1==r){t.push({expr:e});break}for(var o=r+1;;){if(-1==(o=e.indexOf(e[r],o)))throw new Error("The quotation marks are not paired");if("\\"!=e[o-1])break;o++}t.push({expr:e.substring(0,r)}),t.push(e.substring(r+1,o)),e=e.substring(o+1)}return t}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};function assert(e){if(!e)throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"assert faild")}function dom(e){return"string"==typeof e?document.querySelector(e):e instanceof Node?e:void 0}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(u.push(o.value),u.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return u}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function parseDOM(e){if(e.nodeType==e.ELEMENT_NODE){var t=e.tagName.toLowerCase(),r={};Array.from(e.attributes).forEach((function(e){r[e.name]=e.value}));var o=Array.from(e.childNodes).map((function(e){return parseDOM(e)})).filter((function(e){return void 0!==e})),n=e.constructor!==HTMLUnknownElement&&e.constructor!==HTMLElement;return{type:"element",el:e,tag:t,attrs:r,children:o,ishtml:n,_blue:!0}}if(e.nodeType==document.TEXT_NODE){var i=e.data.trim();return i?{type:"text",el:e,data:i,_blue:!0}:void 0}}function parseDirectives(e){var t=[];for(var r in e){var o=void 0;if(r.startsWith("v-")){var n=_slicedToArray(r.split(":"),2),i=n[0],a=n[1];o={name:i.replace(/^v\-/,""),arg:a}}else r.startsWith(":")?o={name:"bind",arg:r.substring(1)}:r.startsWith("@")&&(o={name:"on",arg:r.substring(1)});o&&("model"==o.name?(t.push({name:"on",arg:"input",value:"".concat(e[r],"=$event.target.value"),meta:{}}),t.push({name:"bind",arg:"value",value:e[r],meta:{}})):(o.meta={},o.value=e[r],t.push(o)))}return t}function parseListeners(e){return e.filter((function(e){return"on"==e.name}))}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Qvm:()=>Qvm,default:()=>Qvm});var randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const esm_browser_native={randomUUID};var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase()}function stringify(e){var t=unsafeStringify(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!validate(t))throw TypeError("Stringified UUID is invalid");return t}const esm_browser_stringify=null;function v4(e,t,r){if(esm_browser_native.randomUUID&&!t&&!e)return esm_browser_native.randomUUID();var o=(e=e||{}).random||(e.rng||rng)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=o[n];return t}return unsafeStringify(o)}const esm_browser_v4=v4;function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var EventQueue=function(){return _createClass((function e(){_classCallCheck(this,e),this.events={}}),[{key:"$on",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"$emit",value:function(e){for(var t=this,r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];this.events[e]&&this.events[e].forEach((function(e){e.call.apply(e,[t].concat(o))}))}}])}();function vnode_typeof(e){return vnode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vnode_typeof(e)}function vnode_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vnode_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,vnode_toPropertyKey(o.key),o)}}function vnode_createClass(e,t,r){return t&&vnode_defineProperties(e.prototype,t),r&&vnode_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vnode_toPropertyKey(e){var t=vnode_toPrimitive(e,"string");return"symbol"==vnode_typeof(t)?t:t+""}function vnode_toPrimitive(e,t){if("object"!=vnode_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=vnode_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _callSuper(e,t,r){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,r||[],_getPrototypeOf(e).constructor):t.apply(e,r))}function _possibleConstructorReturn(e,t){if(t&&("object"==vnode_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}var VNode=function(e){function t(e,r){var o;return vnode_classCallCheck(this,t),(o=_callSuper(this,t)).state="",o._el=e,o.$parent=r,o.name=esm_browser_v4(),o}return _inherits(t,e),vnode_createClass(t,[{key:"clone",value:function(){return new t(this._el.cloneNode(!0),this._component)}},{key:"render",value:function(){throw new Error("render method not defined")}}])}(EventQueue);function velement_typeof(e){return velement_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},velement_typeof(e)}function velement_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function velement_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,velement_toPropertyKey(o.key),o)}}function velement_createClass(e,t,r){return t&&velement_defineProperties(e.prototype,t),r&&velement_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function velement_toPropertyKey(e){var t=velement_toPrimitive(e,"string");return"symbol"==velement_typeof(t)?t:t+""}function velement_toPrimitive(e,t){if("object"!=velement_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=velement_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function velement_callSuper(e,t,r){return t=velement_getPrototypeOf(t),velement_possibleConstructorReturn(e,velement_isNativeReflectConstruct()?Reflect.construct(t,r||[],velement_getPrototypeOf(e).constructor):t.apply(e,r))}function velement_possibleConstructorReturn(e,t){if(t&&("object"==velement_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return velement_assertThisInitialized(e)}function velement_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function velement_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(velement_isNativeReflectConstruct=function(){return!!e})()}function velement_getPrototypeOf(e){return velement_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},velement_getPrototypeOf(e)}function velement_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&velement_setPrototypeOf(e,t)}function velement_setPrototypeOf(e,t){return velement_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},velement_setPrototypeOf(e,t)}var VElement=function(e){function t(e,r){var o;velement_classCallCheck(this,t),(o=velement_callSuper(this,t,[e.el,r])).type=e.tag,o.$attrs=e.attrs,o.$directives=parseDirectives(e.attrs),o.$listeners=parseListeners(o.$directives),o.$options=e,o._data={};var n=o;return o._proxy=new Proxy(o._data,{get:function(e,t){return n._get(t)},set:function(e,t,r){return n.$root._data[t]=r,!0}}),o}return velement_inherits(t,e),velement_createClass(t,[{key:"_get",value:function(e){for(var t=this;t;){if(void 0!==t._data[e])return t._data[e];t=t.$parent}}},{key:"_set",value:function(e,t){this._data[e]=t}},{key:"render",value:function(){this._directive("update"),this.$children.forEach((function(e){e.render()})),this.state="update"}},{key:"_directive",value:function(e){(function(t){var r=this;t.forEach((function(t){var o=r.$root._directives[t.name][e];o&&o(r,t)}))}).call(this,this.$directives)}},{key:"clone",value:function(){var e=parseDOM(this._el.cloneNode(!0));return delete e.attrs["v-for"],createVDom(e,this.$parent,this.$root)}},{key:"init",value:function(){this._directive("init"),this.state="init",this.$children&&this.$children.forEach((function(e){e instanceof t&&e.init()}))}}])}(VNode),expression=__webpack_require__(988);function vtext_typeof(e){return vtext_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vtext_typeof(e)}function vtext_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vtext_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,vtext_toPropertyKey(o.key),o)}}function vtext_createClass(e,t,r){return t&&vtext_defineProperties(e.prototype,t),r&&vtext_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vtext_toPropertyKey(e){var t=vtext_toPrimitive(e,"string");return"symbol"==vtext_typeof(t)?t:t+""}function vtext_toPrimitive(e,t){if("object"!=vtext_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=vtext_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function vtext_callSuper(e,t,r){return t=vtext_getPrototypeOf(t),vtext_possibleConstructorReturn(e,vtext_isNativeReflectConstruct()?Reflect.construct(t,r||[],vtext_getPrototypeOf(e).constructor):t.apply(e,r))}function vtext_possibleConstructorReturn(e,t){if(t&&("object"==vtext_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vtext_assertThisInitialized(e)}function vtext_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vtext_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vtext_isNativeReflectConstruct=function(){return!!e})()}function vtext_getPrototypeOf(e){return vtext_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vtext_getPrototypeOf(e)}function vtext_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vtext_setPrototypeOf(e,t)}function vtext_setPrototypeOf(e,t){return vtext_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vtext_setPrototypeOf(e,t)}var VText=function(e){function t(e,r){var o;return vtext_classCallCheck(this,t),(o=vtext_callSuper(this,t,[e.el,r]))._template=e.data,o.state="init",o._last_str=void 0,o}return vtext_inherits(t,e),vtext_createClass(t,[{key:"render",value:function(){var e=(0,expression.V)(this._template,this.$parent._proxy);this._last_str!=e&&(this._el.data=e,this.state="update",console.log("[vtext rendered]",this.name),this._last_str=e)}}])}(VNode);function createVDom(e,t,r){if("element"==e.type){if(e.ishtml){var o=new VElement(e,t);return o.$children=e.children.map((function(e){return createVDom(e,o,r)})),o.$root=r,o}return e}return new VText(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||proxy_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function proxy_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return proxy_arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?proxy_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return proxy_arrayLikeToArray(e)}function proxy_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function proxy_typeof(e){return proxy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},proxy_typeof(e)}function createProxy(e,t,r){var o,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(e instanceof Array){o=[];for(var i=0;i<e.length;i++)"object"==proxy_typeof(e[i])?o[i]=createProxy(e[i],t,r,[].concat(_toConsumableArray(n),[i])):o[i]=e[i]}else for(var a in o={},e)"object"==proxy_typeof(e[a])?o[a]=createProxy(e[a],t,r,[].concat(_toConsumableArray(n),[a])):o[a]=e[a];return new Proxy(o,{get:function(e,r){return t&&t[r]?t[r]:e[r]},set:function(e,o,i){return"object"==proxy_typeof(i)?e[o]=createProxy(i,t,r):e[o]=i,r([].concat(_toConsumableArray(n),[o])),!0}})}function directives_slicedToArray(e,t){return directives_arrayWithHoles(e)||directives_iterableToArrayLimit(e,t)||directives_unsupportedIterableToArray(e,t)||directives_nonIterableRest()}function directives_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function directives_iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(u.push(o.value),u.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return u}}function directives_arrayWithHoles(e){if(Array.isArray(e))return e}function directives_toConsumableArray(e){return directives_arrayWithoutHoles(e)||directives_iterableToArray(e)||directives_unsupportedIterableToArray(e)||directives_nonIterableSpread()}function directives_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function directives_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return directives_arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?directives_arrayLikeToArray(e,t):void 0}}function directives_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function directives_arrayWithoutHoles(e){if(Array.isArray(e))return directives_arrayLikeToArray(e)}function directives_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}const directives={bind:{init:function(e,t){t.meta._last_data=""},update:function(e,t){var r=(0,expression.u)(t.value,e._proxy);t.meta._last_data!=r&&(e._el.setAttribute(t.arg,r),e._el[t.arg]=r,t.meta._last_data=r,console.log("[velement rendered]",e.name))},destory:null},on:{init:function(e,t){e._el.addEventListener(t.arg,(function(r){var o=t.value;/^[\$_a-z][a-z0-9_\$]*$/i.test(o)&&(o+="($event)"),e._set("$event",r),(0,expression.u)(o,e._proxy)}),!1)},update:null,destory:function(){}},cloak:{init:null,update:function(e){e._el.removeAttribute("v-cloak")},destory:null},show:{init:null,update:function(e,t){var r=(0,expression.u)(t.value,e._data);e._el.style.display=r?"":"none"},destory:null},if:{init:function(e,t){var r=document.createComment("qvm holder");e.__parent=e._el.parentNode,e.__holder=r,e.__el=e._el},update:function(e,t){(0,expression.u)(t.value,e._data)?e.__holder.parentNode&&e.__parent.replaceChild(e.__el,e.__holder):e.__parent.replaceChild(e.__holder,e.__el)},destory:function(e,t){}},"else-if":{init:function(e,t){},update:function(e,t){},destory:function(e,t){}},else:{init:function(e,t){},update:function(e,t){},destory:function(e,t){}},for:{init:function(e,t){e.$directives.filter((function(e){return e!=t})),t.meta={};var r=t.meta.template=e,o=t.meta.parent=e._el.parentNode,n=t.meta.holder=document.createComment("for holder");o.replaceChild(n,r._el),t.meta.elements=[];var i=[];e.render=function(){var r=t.meta.template,o=t.meta.parent,n=t.meta.holder,a=t.meta.elements,u=directives_toConsumableArray(a);a.forEach((function(e){o.removeChild(e._el)})),a.length=0;var c=[],l=parseFor(t.value),s=l.key,f=l.value,p=l.data;i=directives_toConsumableArray(i);var y=(0,expression.u)(p,e._proxy);c.length=y.length;for(var _=function(){var e=y[v],t=v,r=i.findIndex((function(t){return t==e}));-1!=r?(c[t]=u[r],u.splice(r,1),i.splice(r,1)):c[t]=null},v=0;v<y.length;v++)_();c.forEach((function(e,t){null==e&&(u.length>0?c[t]=u.pop():(c[t]=r.clone(),c[t].init()))})),i=y,a=c;var d=document.createDocumentFragment();c.forEach((function(e,t){s&&e._set(s,t),e._set(f,y[t]),d.appendChild(e._el)})),o.insertBefore(d,n),a.forEach((function(e){e.render()})),t.meta.elements=a}},update:function(e,t){},destory:function(e,t){}},html:{init:null,update:function(e,t){var r=(0,expression.u)(t.value,e._data);e._el.innerHTML=r},destory:null},text:{init:null,update:function(e,t){var r=(0,expression.u)(t.value,e._data),o=document.createTextNode(r);e._el.innerHTML="",e._el.appendChild(o)},destory:null}};function parseFor(e){var t=e.split(" in "),r=directives_slicedToArray(t[0].split(","),2),o=r[0];return{key:r[1],value:o,data:t[1]}}function qvm_typeof(e){return qvm_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qvm_typeof(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=qvm_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qvm_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qvm_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,qvm_toPropertyKey(o.key),o)}}function qvm_createClass(e,t,r){return t&&qvm_defineProperties(e.prototype,t),r&&qvm_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qvm_toPropertyKey(e){var t=qvm_toPrimitive(e,"string");return"symbol"==qvm_typeof(t)?t:t+""}function qvm_toPrimitive(e,t){if("object"!=qvm_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=qvm_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qvm_callSuper(e,t,r){return t=qvm_getPrototypeOf(t),qvm_possibleConstructorReturn(e,qvm_isNativeReflectConstruct()?Reflect.construct(t,r||[],qvm_getPrototypeOf(e).constructor):t.apply(e,r))}function qvm_possibleConstructorReturn(e,t){if(t&&("object"==qvm_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qvm_assertThisInitialized(e)}function qvm_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qvm_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qvm_isNativeReflectConstruct=function(){return!!e})()}function qvm_getPrototypeOf(e){return qvm_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qvm_getPrototypeOf(e)}function qvm_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qvm_setPrototypeOf(e,t)}function qvm_setPrototypeOf(e,t){return qvm_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qvm_setPrototypeOf(e,t)}var Qvm=function(e){function t(e){var r,o,n;qvm_classCallCheck(this,t),(r=qvm_callSuper(this,t)).__watch_target=[],r.$options=e,r.$refs={},r.name=esm_browser_v4(),r.components=e.components||{},e.store&&(r.$store=e.store,e.store._qvm=e.store._qvm||r),r._staticData=_objectSpread(_objectSpread({},e.methods),{},{__Qvm:r,$store:e.store,$emit:r.$emit.bind(r),$on:r.$on.bind(r),$refs:r.$refs}),o="function"==typeof e.data?e.data():e.data,r._data=createProxy(o||{},r._staticData,(function(e){for(var t=0;t<e.length;t++){var o=e.slice(0,t+1).join("."),n=r._watchs[o];n&&r.__watch_target.push(n)}r._doCompute(),r.forceUpdate()})),r._doCompute(),r._watchs=e.watch||{},r._directives=_objectSpread(_objectSpread({},directives),e.directives),n="string"==typeof e.el?dom(e.el):e.el;var i=r.createComponent(n,r);if(r.created=e.created,r.updated=e.updated,r.mounted=e.mounted,r.root=i,e.router){var a=e.router;a._qvm=r,a.init(),r.$router=a}return r.root.init(),r.state="init",r.created&&r.created.call(r._data),r._render_timer=0,r.render(),r.mounted&&r.mounted.call(r._data),qvm_possibleConstructorReturn(r,r._data)}return qvm_inherits(t,e),qvm_createClass(t,[{key:"init",value:function(){console.log("init")}},{key:"_doCompute",value:function(){var e=this.$options;for(var t in e.computed){var r=e.computed[t].call(this._data);this._staticData[t]=r}}},{key:"forceUpdate",value:function(){var e=this;clearTimeout(this._render_timer),this._render_timer=setTimeout((function(){e.render()}),0)}},{key:"render",value:function(){var e=this;this.root.render(),this.__watch_target.forEach((function(t){t.call(e._data)})),this.__watch_target.length=0,this.state="update",this.updated&&this.updated.call(this._data)}},{key:"createComponent",value:function(e,r){var o=parseDOM(e);!function e(t){t.attrs&&(t.attrs.ref&&(t.ref=t.attrs.ref),t.children.forEach((function(t){e(t)})))}(o);var n=createVDom(o,this,this),i=function(e,o){if(e._blue){var n;n="component"!=e.tag?r.components[e.tag]||components[e.tag]:r.components[e.attrs.is]||componets[e.attrs.is];var a=document.createElement("div");a.innerHTML=n.template;var u=a.getElementsByTagName("slot");Array.from(u).forEach((function(t){var r=document.createDocumentFragment();e.children.forEach((function(e){r.appendChild(e.el.cloneNode(!0))})),t.parentNode.replaceChild(r,t)}));var c=a.children[0];e.el.parentNode.replaceChild(c,e.el);var l=new t(_objectSpread(_objectSpread({el:c},n),{},{store:r.$store})).__Qvm;return l.$root=l,e.ref&&(r.$refs[e.ref]=l),n.props&&n.props.forEach((function(t){l._data[t]=e.attrs[t]})),l}if(e instanceof VElement)for(var s=0;s<e.$children.length;s++)e.$children[s]=i(e.$children[s],e);return e};return i(n,this)}}])}(EventQueue),components={};return Qvm.component=function(e,t){components[e]=t},__webpack_exports__})()));
//# sourceMappingURL=qvm.js.map